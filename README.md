# parse-server-node-mailer-adapter

## Install

With npm do:

    npm install parse-server-node-mailer-adapter

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [nodeMailerAdapter](#nodemaileradapter)

### nodeMailerAdapter

An adapter for Parse Server that abstracts the email sending mechanism away
to provide a consistent interface no matter which provider you are using.
Thanks primarily go to [Nodemailer](https://nodemailer.com) and
[email-templates](https://www.npmjs.com/package/email-templates) which
do the heavy lifting.

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `options.engine` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The templating engine used; pass a file
        extension to change this (e.g. `hbs`, `ejs`). Note that you will have to
        install the template language as a dependency of your application if you use
        this option. (optional, default `pug`)
    -   `options.from` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The email address to send from.
    -   `options.send` **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Passed through to `email-templates`
        and will deactivate email sending in development & test environments. Set to
        `true` if you want to send emails when testing your application.
    -   `options.transport` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** This is passed straight through to
        `nodemailer.createTransport`, so you may use any email sending methods.
    -   `options.templates` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Specify the base path for your templates here; see the `email-templates`
        documentation for more details. (optional, default `parse-server-node-mailer-adapter/templates`)

**Examples**

_Using the AWS SES adapter_

```javascript
const ParseServer = require('parse-server').ParseServer;
const aws = require('aws-sdk');

const SES = new aws.SES({ apiVersion: '2010-12-01' });

const server = ParseServer({
  // ... other options
  emailAdapter: {
    module: 'parse-server-node-mailer-adapter',
    options: {
      from: 'noreply@example.com'
      transport: { SES }
    }
  }
})
```

_Using the JSON adapter_

```javascript
const ParseServer = require('parse-server').ParseServer;

const server = ParseServer({
  // ... other options
  emailAdapter: {
    module: 'parse-server-node-mailer-adapter',
    options: {
      from: 'noreply@example.com'
      transport: { jsonTransport: true }
    }
  }
})
```

_Using the SMTP adapter_

```javascript
const ParseServer = require('parse-server').ParseServer;

const server = ParseServer({
  // ... other options
  emailAdapter: {
    module: 'parse-server-node-mailer-adapter',
    options: {
      from: 'noreply@example.com'
      transport: {
        pool: true,
        host: 'smtp.example.com',
        port: 465,
        secure: true,
        auth: {
          user: 'user',
          pass: 'pass'
        }
      }
    }
  }
})
```

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)>** Exposes `sendMail`, `sendPasswordResetEmail` and
`sendVerificationEmail` for Parse's benefit, plus the `sendTemplateEmail`
method for creating custom emails.

## License

MIT Â© The Distance
